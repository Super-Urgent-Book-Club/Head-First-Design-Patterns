# 08장 | 알고리즘 캡슐화하기 - 템플릿 메소드 패턴

## 템플릿 메소드 패턴(Template Method Pattern)


> **템플릿 메소드 패턴**은 알고리즘의 골격을 정의합니다. 템플릿 메소드를 사용하면 알고리즘의 일부 단계를 서브 클래스에서 구현할 수 있으며, 알고리즘의 구조는 그대로 유지하면서 알고리즘의 특정 단계를 서브 클래스에서 재정의할 수도 있다.

- 싱글턴 패턴을 실제로 적용할 때는 클래스에서 하나뿐인 인스턴스를 관리하도록 만들면 된다. 그리고 다른 어떤 클래스에서도 자신의 인스턴스를 추가로 만들지 못하게 한다. 인스턴스가 필요하다면 반드시 클래스 자신을 거치도록 한다.
- 어디서든 그 인스턴스에 접근할 수 있도록 전역 접근 지점을 제공해야 한다.
- 언제든 그 인스턴스가 필요하면 클래스에 요청할 수 있게 만들어 놓고, 요청이 들어오면 그 하나뿐인 인스턴스를 건네주도록 만든다.


## 템플릿 메소드 패턴의 장점
-   중복을 줄이고, 코드의 재사용성을 확보할 수 있습니다.
-   핵심 알고리즘의 관리가 쉽습니다.
-   추상 메서드 재정의를 통한 서브 클래스 확장에 유리합니다.
-   상위 클래스의 메서드만 보더라도 전체 동작을 이해하기 쉽습니다.

## 템플릿 메소드 속 후크 알아보기
> **후크(hook)**는 추상 클래스에서 선언되지만 기본적인 내용만 구현되어 있거나 아무 코드도 들어가 있지 않은 메소드입니다.
- 후크를 사용하려면 서브클래스에서 후크를 `override`해야 한다.
- `override`하지 않으면 추상 클래스에서 기본으로 제공된 코드가 실행된다.

- 후크를 써야 할 때: 서브 클래스가 알고리즘의 특정단계를 제공해야만 한다면 사용해야 한다.

- 후크의 여러가지 용도
  - 알고리즘에서 필수적이지 않은 부분을 서브클래스에서 구현하도록 만들고 싶을 때 후크를 쓸 수 있다.
  - 일어난 일, 막 일어난 일에 서브 클래스가 반응하도록
  - 서브 클래스가 추상 클래스에서 진행되는 작업을 처리할지 말지 결정하게 하는 기능을 부여.

## 할리우드 원칙과 템플릿 메소드 패턴
> **할리우드 원칙**
> " 먼저 연락하지 마세요. 저희가 연락드리겠습니다."
- 의존성이 복잡하게 꼬여 있는 상황을 의존성이 부패(dependency rot)이라고 한다.
- 할리우드 원칙을 사용하면, 저수준 구성 요소가 시스템에 접속할 수는 있지만 언제, 어떻게 그 구성 요소를 사용할지는 고수준 구성 요소가 결정한다.
